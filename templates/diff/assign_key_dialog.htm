{%- import "components.html" as components -%}

<link rel="stylesheet" href="/static/style.css">

<div class="dialog-content">
    <h2>Assign this key to a user</h2>
    
    <input type="hidden" name="key_type" value="{{ key.key_type}}" />
    <input type="hidden" name="key_base64" value="{{ key.key_base64 }}" />
    {% match key.comment %}
    {% when Some with (comment) %}
    <input type="hidden" name="key_comment" value="{{ comment }}" />
    {% when None %}
    {% endmatch %}

    <div class="form-group">
        {% call components::user_selection(users) %}
    </div>

    <div class="button-group">
        <button type="submit" class="action-button">Assign</button>
    </div>
</div>

<script>
function closeDialog() {
    const dialog = document.querySelector('dialog');
    if (dialog) {
        dialog.close();
    }
}
</script>